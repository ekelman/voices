{literal}
<script language=javascript src="../scripts/gen_validatorv4.js"></script>
<script type='text/javascript'>
function countcharacters(postal_code)
{
	if(postal_code.value.length == 3)
	{
		document.addAffiliate.postal_code1.focus();
	}
}
</script>
{/literal}
<form name='addAffiliate' method='post' enctype="multipart/form-data">
<table bgcolor="#f4f8fb" cellspacing='1' border="0" cellpadding='3' width='100%' align='center'>
<tbody bgcolor="#f4f8fb">
<tr bgcolor="#005388"><td align="center" colspan="2" class="widget-head">Add Affiliate</td></tr>
<tr>
	<td align="right" colspan="2" valign="top"><span class="error-message">* {$MandatoryMessage}</span></td>
</tr>
{if $sErrorMsg neq ''}
<tr>
<td align="center" class="error" valign="top">{$sErrorMsg}</td>
</tr>
<tr><td style='height:10px'></td></tr>
{/if}

<tr>
<td width='70%' class="arial11b000000">
<table cellspacing='1' cellpadding='3' width='80%' border="0" align='center' class="arial11b000000">
<tr><td width="40%" class="arial11b000000"><span class="error-message">*</span>&nbsp;First Name:</td>
<td width="60%"><input type="text" name='first_name' value="{$oAffiliate->first_name|default:''}" maxlength='40'/></td></tr>
<tr><td><span class="error-message">*</span>&nbsp;Last Name:</td>
<td><input type="text" name='last_name' value="{$oAffiliate->last_name|default:''}" maxlength='40'/></td></tr>
<tr><td><span class="error-message">*</span>&nbsp;Username:</td>
<td><input type="text" name='username' value="{$oAffiliate->username|default:''}" maxlength='40'/></td></tr>
<tr><td><span class="error-message">*</span>&nbsp;Email:</td>
<td><input type="text" name='email' value="{$oAffiliate->email|default:''}" maxlength='80'/></td></tr>
<tr><td><span class="error-message">*</span>&nbsp;Password:</td>
<td><input type="password" name='password' value="" maxlength='40'/></td></tr>
<tr><td><span class="error-message">*</span>&nbsp;Confirm Password:</td>
<td><input type="password" name='re_password' value="" maxlength='40'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;Organisation Name:</td>
<td><input type="text" name='organisation_name' value="{$oAffiliate->organisation_name|default:''}" maxlength='80'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;Organisation website:</td>
<td><input type="text" name='organisation_website' value="{$oAffiliate->organisation_website|default:''}" maxlength='80'/></td></tr>

<tr><td>&nbsp;&nbsp;Organisation Banner:</td>
<td><input type="file" name='organisation_banner' size="19" /></td></tr>
<tr><td>&nbsp;</td>
<td><span style="color:#888888;">Upload a banner(jpg/gif/jpeg) containing organisation
logo up to 900px wide and 250px high, max size 5MB.</span></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;Address:</td>
<td><input type="text" name='address' value="{$oAffiliate->address|html_entity_decode|default:''}" maxlength='255'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;City:</td>
<td><input type="text" name='city' value="{$oAffiliate->city|default:''}" maxlength='15'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;State:</td>
<td><input type="text" name='state' value="{$oAffiliate->state|default:''}" maxlength='15'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;Country:</td>
<td><input type="text" name='country' value="{$oAffiliate->country|default:''}" maxlength='15'/></td></tr>

<tr><td><span class="error-message">*</span>&nbsp;Postal Code:</td>
<td><input type="text" name='postal_code' value="{$oAffiliate->postal_code|default:''}" maxlength="6" /></td></tr>
<tr>
<td><span class="error-message">*</span>&nbsp;Organisation Profile:</td>
<td><textarea style="width: 436px; height: 50px;" name="description">{$oAffiliate->description|html_entity_decode|default:''}</textarea></td></tr>
<tr><td colspan='2' align="center">
<input type="hidden" name="stage" value='affiliates' />
<input type="hidden" name="mode" value='SaveAffiliate' />
<input type="submit" name="submit" value='Submit' />&nbsp;&nbsp;<input type="button" value="Cancel" name="Cancel" onclick="window.location='index.php?stage=affiliates&mode=ListAffiliates'"/></td></tr>
</table></td>
</tr>
</tbody>
</table>
</form>
{literal}
<script language='javascript' type='text/javascript'>

	var frmvalidator	=	new Validator("addAffiliate");	
	
	frmvalidator.addValidation("first_name","req","Please enter your first name.");
	frmvalidator.addValidation("first_name","alphabetic_space","Only alphabets are allowed in first name.");
	
	frmvalidator.addValidation("last_name","req","Please enter your last name.");
	frmvalidator.addValidation("last_name","alphabetic_space","Only alphabets are allowed in last name.");

	frmvalidator.addValidation("username","req","Please enter Username.");
	frmvalidator.addValidation("username","alphanumeric","Only alphabets and munbers are allowed in Username.");
	frmvalidator.addValidation("username","minlen=6","Username should be between 6 to 20 characters.");
	frmvalidator.addValidation("username","maxlen=20","Username should be between 6 to 20 characters.");
	
	
	frmvalidator.addValidation("email","req","Please enter Email.");
	frmvalidator.addValidation("email","email","Please enter a valid Email.");
	
	frmvalidator.addValidation("password","req","Please enter Password.");
	frmvalidator.addValidation("password","minlen=6","Password should be between 6 to 20 characters.");
	frmvalidator.addValidation("password","maxlen=20","Password should be between 6 to 20 characters.");
	
	frmvalidator.addValidation("re_password","req","Please enter Confirm Password.");
	
	frmvalidator.addValidation("organisation_name","req","Please select Organisation Name.");
	frmvalidator.addValidation("organisation_name","alphabeticspace","Only alphabets are allowed in Organisation Name.");

	frmvalidator.addValidation("organisation_website","req","Please select Organisation Website.");
	frmvalidator.addValidation("organisation_website","url","Please enter proper format of Organisation Website.");
	
	frmvalidator.addValidation("address","req","Please enter Organisation Address.");
	
	frmvalidator.addValidation("state","req","Please enter State.");
	frmvalidator.addValidation("state","alphabetic_space","Only alphabets are allowed in State.");
	
	frmvalidator.addValidation("city","req","Please enter City.");
	frmvalidator.addValidation("city","alphabetic_space","Only alphabets are allowed in City.");
	
	frmvalidator.addValidation("country","req","Please enter Country.");
	frmvalidator.addValidation("country","alphabetic_space","Only alphabets are allowed in Country.");

	frmvalidator.addValidation("postal_code","req","Please enter Postal Code");
	frmvalidator.addValidation("postal_code","alphanumeric","Please input a valid Postal Code");
	frmvalidator.addValidation("postal_code","maxlen=6","Please input a valid Postal Code");
	
	frmvalidator.addValidation("description","req","Please enter Organisation Profile.");
	
	
	frmvalidator.setAddnlValidationFunction(DoCustomValidation);
    function DoCustomValidation()
	{		
	
		var form = document.forms["addAffiliate"];
		
		//passwords matching
		if(Trim(form.password.value) != Trim(form.re_password.value)) 
		{			
		  alert("The Password and Confirm password does not match");
		  form.password.focus();
		  return false;
		}	
		
		return true;
	}
</script>
{/literal}